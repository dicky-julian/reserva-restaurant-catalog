!function(n){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(n[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return i.push.apply(i,s||[]),e()}function e(){for(var n,t=0;t<i.length;t++){for(var e=i[t],r=!0,c=1;c<e.length;c++){var u=e[c];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),n=o(o.s=e[0]))}return n}var r={},a={0:0},i=[];function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(n,t,e){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)o.d(e,r,function(t){return n[t]}.bind(null,r));return e},o.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var f=u;i.push([33,3,2,1]),e()}([function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return a}));var r=function(n){return new Promise((function(t){!function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=document.querySelector(n);a?t(a):setTimeout((function(){e(n,r)}),100)}(n)}))},a=function(n){return new Promise((function(t){!function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=document.querySelectorAll(n);a.length>1?t(a):setTimeout((function(){e(n,r)}),100)}(n)}))}},function(n,t,e){"use strict";var r={BASE_URL:"https://dicoding-restaurant-api.el.r.appspot.com",BASE_IMAGE_URL:"".concat("https://dicoding-restaurant-api.el.r.appspot.com","/images/medium"),CACHE_NAME:"reserva-v1",DATABASE_NAME:"reserva-v1",DATABASE_VERSION:"1",API_KEY:12345};t.a=r},function(n,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"a",(function(){return o})),e.d(t,"c",(function(){return c}));var r=e(9),a=e(1),i=function(n){var t=n.id,e=n.name,r=n.description,i=n.city,o=n.rating,c=n.pictureId;return'\n    <a href="/#/restaurant/'.concat(t,'" class="product" tabindex="4">\n        <div class="product__img">\n            <img src="./images/placeholder.gif" data-src="').concat(a.a.BASE_IMAGE_URL,"/").concat(c,'" class="lazyload" alt="').concat(e,'" />\n            <div class="product__rating">').concat(o,'</div>\n        </div>\n        <div class="product__description">\n            <h5 class="text__roman text__primary text__thin">').concat(e,'</h5>\n            <h6 class="text__thin">').concat(i,'</h6>\n            <h6 class="text__center text__thin">').concat(r.slice(0,90),"...</h6>\n        </div>\n    </a>\n")},o=function(n){var t=n.name,e=n.type;return'\n    <div>\n        <img src="./images/placeholder.gif" data-src="./images/bg-'.concat(e,'-default.jpg" alt="default image ').concat(e,'" class="lazyload"/>\n        <h6>').concat(t,"</h6>\n        ").concat(Object(r.a)(e),"\n    </div>  \n")},c=function(n){var t=n.name,e=n.review,r=n.date;return'\n    <div class="review">\n        <div class="comment__container">\n            <img src="./images/placeholder.gif" data-src="./images/icon-quote.webp" alt="quote icon" alt="icon quote" class="lazyload"/>\n            <h5 class="text__thin">'.concat(e,'</h5>\n        </div>\n        <div class="comment__info">\n            <h6>').concat(t,"</h6>\n            <span>").concat(r,"</span>\n        </div>\n    </div>\n")}},function(n,t,e){"use strict";e.d(t,"c",(function(){return f})),e.d(t,"e",(function(){return l})),e.d(t,"d",(function(){return d})),e.d(t,"a",(function(){return v})),e.d(t,"b",(function(){return p}));var r=e(26),a=e(1),i=a.a.DATABASE_NAME,o=a.a.DATABASE_VERSION,c=Object(r.a)(i,o,{upgrade:function(n){n.objectStoreNames.contains("restaurant")||n.createObjectStore("restaurant",{keyPath:"id"})}});function u(n,t,e,r,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?t(u):Promise.resolve(u).then(r,a)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){u(i,r,a,o,c,"next",n)}function c(n){u(i,r,a,o,c,"throw",n)}o(void 0)}))}}var f=function(){var n=s(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c;case 2:return n.abrupt("return",n.sent.getAll("restaurant"));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=s(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,f();case 3:return n.sent.forEach((function(n){t.push(n.id)})),n.abrupt("return",t);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=s(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,c;case 4:return n.abrupt("return",n.sent.get("restaurant",t));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),v=function(){var n=s(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c;case 2:return n.abrupt("return",n.sent.put("restaurant",t));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=s(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c;case 2:return n.abrupt("return",n.sent.delete("restaurant",t));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e(0),a=function(n,t){var e='\n        <div class="alert '.concat("success"===t?"alert__success":"alert__danger",'">\n            ').concat(n,'\n            <img data-src="./images/icon-close.webp" alt="icon close" class="lazyload" />\n        </div>\n    ');Object(r.a)("#alert__wrapper").then((function(n){n.addEventListener("click",(function(){return function(n){n.innerHTML=""}(n)})),n.innerHTML+=e}))}},function(n,t,e){"use strict";e.d(t,"b",(function(){return c})),e.d(t,"c",(function(){return u})),e.d(t,"a",(function(){return s}));var r=e(1),a={FETCH_ALL_RESTAURANT:"".concat(r.a.BASE_URL,"/list"),FETCH_DETAIL_RESTAURANT:function(n){return"".concat(r.a.BASE_URL,"/detail/").concat(n)},ADD_REVIEW:"".concat(r.a.BASE_URL,"/review")};function i(n,t,e,r,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?t(u):Promise.resolve(u).then(r,a)}function o(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function c(n){i(o,r,a,c,u,"next",n)}function u(n){i(o,r,a,c,u,"throw",n)}c(void 0)}))}}var c=function(){var n=o(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(a.FETCH_ALL_RESTAURANT).then((function(n){return n.json()})).then((function(n){return n.restaurants})).catch((function(n){return console.log(n),!1}));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=o(regeneratorRuntime.mark((function n(t){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(a.FETCH_DETAIL_RESTAURANT(t)).then((function(n){return n.json()})).then((function(n){return n.restaurant})).catch((function(n){return console.log(n),!1}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),s=function(){var n=o(regeneratorRuntime.mark((function n(t){var e,i,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.id,i=t.name,o=t.review,e&&i&&o){n.next=3;break}return n.abrupt("return",!1);case 3:return n.next=5,fetch(a.ADD_REVIEW,{method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":r.a.API_KEY},body:JSON.stringify(t)}).then((function(n){return n.json()})).then((function(n){return n})).catch((function(n){return console.log(n),!1}));case 5:return c=n.sent,n.abrupt("return",c);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},,function(n,t,e){"use strict";e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return i}));var r=e(0),a=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.scrollingElement;if(e.scrollTop!==n){var r=(e.scrollTop-n)/2,a=0,i=null;window.requestAnimationFrame(o)}function o(c){if(null!==i){if((a+=Math.PI*(c-i)/t)>=Math.PI)return e.scrollTop===n;e.scrollTop=r+n+r*Math.cos(a)}i=c,window.requestAnimationFrame(o)}},i=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=Math.round(n.getBoundingClientRect().top);a(document.scrollingElement.scrollTop+e,t)},o=function(n){Object(r.a)(n).then((function(n){i(n,200)}))}},function(n,t,e){"use strict";var r={parseActiveUrlWithCombiner:function(){var n=window.location.hash.slice(1).toLowerCase(),t=this.urlSplitter(n);return this.urlCombiner(t)},parseActiveUrlWithoutCombiner:function(){var n=window.location.hash.slice(1).toLowerCase();return this.urlSplitter(n)},urlSplitter:function(n){var t=n.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},urlCombiner:function(n){return(n.resource?"/".concat(n.resource):"/")+(n.id?"/:id":"")+(n.verb?"/".concat(n.verb):"")}};t.a=r},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var r=function(n){return'\n    <div class="badge__container">\n        <div class="badge__hole"></div>\n        <span>'.concat(n,"</span>\n    </div>\n")}},,,,,,function(n,t,e){"use strict";var r=e(0),a=e(7);t.a=function(){Object(r.a)("#nav__toogle").then((function(n){n.addEventListener("click",(function(){var t=n.classList.contains("active"),e=document.querySelector(".nav__link");t?(n.classList.remove("active"),e.style.display="none"):(n.classList.add("active"),e.style.display="flex")}))})),Object(r.b)(".nav__link a").then((function(n){n.forEach((function(n){n.addEventListener("click",(function(n){document.querySelector(".nav__link > a.active").classList.remove("active"),n.target.classList.add("active")}))}))})),Object(r.a)("#skip__content").then((function(n){n.addEventListener("click",(function(){Object(r.a)("main").then((function(t){Object(a.b)(t,200),n.remove()}))}))}))}},function(n,t,e){"use strict";var r=e(17),a=e.n(r);function i(n,t,e,r,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?t(u):Promise.resolve(u).then(r,a)}var o=function(){var n,t=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("serviceWorker"in navigator)){n.next=4;break}return n.next=3,a.a.register();case 3:return n.abrupt("return");case 4:console.log("Service worker not supported in this browser");case 5:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function c(n){i(o,r,a,c,u,"next",n)}function u(n){i(o,r,a,c,u,"throw",n)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();t.a=o},,,,,function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var r=function(){return'\n    <div class="form__review">\n        <h6>Add your review</h6>\n        <input type="text" class="input__bottom__line" placeholder="Fullname" tabindex="2" />\n        <textarea class="input__bottom__line" placeholder="Message" tabindex="2"></textarea>\n        <button class="bt bt__primary" tabindex="2">Send</button>\n    </div>\n'}},function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var r=e(3),a=e(0),i=e(4);function o(n,t,e,r,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?t(u):Promise.resolve(u).then(r,a)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function c(n){o(i,r,a,c,u,"next",n)}function u(n){o(i,r,a,c,u,"throw",n)}c(void 0)}))}}var u={init:function(n){var t=this;return c(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.favoriteButtonElement,a=n.restaurantData,t._favoriteButtonContainer=r,t._restaurantData=a,e.next=5,t._renderButton();case 5:case"end":return e.stop()}}),e)})))()},_renderButton:function(){var n=this;return c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n._restaurantData.id,t.next=3,n._isRestaurantExist(e);case 3:if(!t.sent){t.next=7;break}n._renderAdded(),t.next=8;break;case 7:n._renderAdd();case 8:case"end":return t.stop()}}),t)})))()},_isRestaurantExist:function(n){return c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.d)(n);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()},_renderAdd:function(){var n=this;this._favoriteButtonContainer.innerHTML='\n<div class="add__favorite" aria-label="add favorite" role="button" tabindex="3">\n    <img data-src="./images/icon-add.jpg" src="./images/placeholder.gif" alt="icon add" class="lazyload"/>\n    <span class="text__default">Add to favorite</span>\n</div>\n',Object(a.a)(".add__favorite").then((function(t){n._buttonElement=t,t.addEventListener("click",(function(){t.querySelector("img").src="./images/loading-spinner.webp",n.addFavorite()}))}))},_renderAdded:function(){var n=this;this._favoriteButtonContainer.innerHTML='\n<div class="add__favorite" aria-label="delete favorite" role="button" tabindex="3">\n    <img data-src="./images/icon-delete.webp" src="./images/placeholder.gif" alt="icon delete" class="lazyload"/>\n    <span class="text__danger text__bold">Remove from favorite</span>\n</div>\n',Object(a.a)(".add__favorite").then((function(t){n._buttonElement=t,t.addEventListener("click",(function(){t.querySelector("img").src="./images/loading-spinner.webp",n.removeFavorite()}))}))},addFavorite:function(){var n=this;return c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)(n._restaurantData).then((function(){n._renderAdded(),Object(i.a)("Succesfully added to favorite","success")})).catch((function(n){Object(i.a)("Failed when adding favorite","fail"),console.log(n)}));case 2:case"end":return t.stop()}}),t)})))()},removeFavorite:function(){var n=this;return c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n._restaurantData.id,t.next=3,Object(r.b)(e).then((function(){n._renderAdd(),Object(i.a)("Succesfully removed from favorite","success")})).catch((function(n){Object(i.a)("Failed when remove favorite","fail"),console.log(n)}));case 3:case"end":return t.stop()}}),t)})))()}}},,,function(n,t,e){"use strict";var r=e(8),a=e(18),i=e(19),o=e(20),c=e(23),u=e(24),s={"/":a.a,"/restaurant":i.a,"/restaurant/:id":o.a,"/favorite":c.a,404:u.a};function f(n,t,e,r,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?t(u):Promise.resolve(u).then(r,a)}function l(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var d=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,a,i,o;return t=n,(e=[{key:"renderPage",value:(i=regeneratorRuntime.mark((function n(){var t,e,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=document.querySelector("main"),e=r.a.parseActiveUrlWithCombiner(),a=s[e]||s[404],n.next=5,a.render();case 5:return t.innerHTML=n.sent,n.next=8,a.afterRender();case 8:case"end":return n.stop()}}),n)})),o=function(){var n=this,t=arguments;return new Promise((function(e,r){var a=i.apply(n,t);function o(n){f(a,e,r,o,c,"next",n)}function c(n){f(a,e,r,o,c,"throw",n)}o(void 0)}))},function(){return o.apply(this,arguments)})}])&&l(t.prototype,e),a&&l(t,a),n}();t.a=d}]);